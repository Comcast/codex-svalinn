 - Modified event parsing: if the eventType is state, parse the event 
   destination to find the device id.  Otherwise, take the event Source as the 
   device id.
